package com.vg.pdf;

import java.io.BufferedWriter;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileWriter;
import java.io.IOException;
import java.util.concurrent.Future;

import org.apache.pdfbox.cos.COSDocument;
import org.apache.pdfbox.pdfparser.PDFParser;
import org.apache.pdfbox.pdmodel.PDDocument;
import org.apache.pdfbox.util.PDFTextStripper;

import com.documents4j.api.DocumentType;
import com.documents4j.api.IConverter;
import com.documents4j.job.LocalConverter;

public class Reconverter {
	 public void reconvertor(String inputWord, String outputFile){
		 
		 static String pdftoText(String fileName) {
		        PDFParser parser;
		        String parsedText = null;
		        PDFTextStripper pdfStripper = null;
		        PDDocument pdDoc = null;
		        COSDocument cosDoc = null;
		        File file = new File(fileName);
		       
		         parser = new PDFParser(new FileInputStream(file));
		        try {
		            parser.parse();
		            cosDoc = parser.getDocument();
		            pdfStripper = new PDFTextStripper();
		            pdDoc = new PDDocument(cosDoc);
		            parsedText = pdfStripper.getText(pdDoc);
		        } catch (Exception e) {
		            System.err.println("An exception occured in parsing the PDF Document."+ e.getMessage());
		        } finally {
		            try {
		                if (cosDoc != null)
		                    cosDoc.close();
		                if (pdDoc != null)
		                    pdDoc.close();
		            } catch (Exception e) {
		                e.printStackTrace();
		            }
		        }

		            // if file doesnt exists, then create it
		            if (!file.exists()) {
		                file.createNewFile();
		            }

		            FileWriter fw = new FileWriter(file.getAbsoluteFile());
		            BufferedWriter bw = new BufferedWriter(fw);
		            bw.write(content);
		            bw.close();

		            System.out.println("Done");


		 }
}
}